<mujoco model="00-elevator-from-urdf">
  <compiler angle="radian" meshdir="../meshes/"/>

  <asset>
    <material name="grey" rgba="0.52941 0.54902 0.54902 1"/>
    <material name="light_grey" rgba="0.89804 0.91765 0.92941 1"/>
    <mesh name="rotate_rod1_mesh" file="rotate_rod1.STL"/>
    <mesh name="rotate_rod2_mesh" file="rotate_rod2.STL"/>
    <mesh name="rotate_rod3_mesh" file="rotate_rod3.STL"/>
  </asset>

  <worldbody>
    <body name="base_link">
      <inertial pos="0.023501 0.0098873 0.20267" mass="1" fullinertia="12.778 7.8522 11.663 0.34979 -3.418E-14 -4.5558E-15"/>
      <geom type="sphere" size="0.01" material="grey"/>

      <body name="rotate_rod1" pos="0.06 0 0" euler="0 0 1.5708">
        <joint name="rotate_rod_joint1" type="hinge" axis="0 0 1" range="-1.517 1.517"/>
        <inertial pos="0.016161 -0.027992 0.0008498" mass="0.1" fullinertia="0.028472 0.028227 0.00094714 0.00021268 -3.8124E-05 6.6033E-05"/>
        <geom type="mesh" mesh="rotate_rod1_mesh" material="grey"/>

          <body name="prism_rod_top" pos="-0.785 0.04 0" euler="0 0 3.1415">
            <joint name="prism_rod_top_joint" type="hinge" axis="0 0 1" range="-1.517 1.517"/>
            <inertial pos="0 0 0" mass="0.1" fullinertia="0.00001 0.00001 0.00001 0 0 0"/>
            <geom type="box" size="0.25 0.01 0.01" pos="-0.25 0 0" material="light_grey"/>
            <geom name="prism_rod_top_collision" type="sphere" size="0.05" group="3"/>
          </body>
        <body name="prism_rod_bottom" pos="0.032502 -0.055 0.12" euler="-1.5708 1.0585 2.0944">
          <joint name="prism_rod_bottom_joint" type="hinge" axis="0 0 1" range="-1.517 1.517"/>
          <inertial pos="0 0 0" mass="0.1" fullinertia="0.00001 0.00001 0.00001 0 0 0"/>
          <geom type="box" size="0.15 0.01 0.01" pos="-0.15 0 0" material="light_grey"/>
          <geom name="prism_rod_bottom_collision" type="sphere" size="0.05" group="3"/>

          <body name="piston_rod" pos="-0.5 0 0">
            <joint name="slider" type="slide" axis="1 0 0" range="0 0.2"/>
            <inertial mass="0.1" pos="0.1 0 0" diaginertia="0.0001 0.0001 0.0001"/>
            <geom type="capsule" fromto="0 0 0 0.2 0 0" size="0.012" material="light_grey"/>
            <site name="piston_tip_site" pos="0.2 0 0" size="0.01"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <contact>
    <exclude body1="piston_rod" body2="prism_rod_bottom"/>
  </contact>

  <equality>
    <connect body1="piston_rod" body2="prism_rod_top" anchor="0. 0 0" />
  </equality>
  <actuator>
    <motor name="piston_motor" joint="slider" ctrllimited="true" ctrlrange="-2 0.5"/>
    <motor name="motor_joint1" joint="rotate_rod_joint1"  ctrllimited="true" ctrlrange="-1.571 1.571"/>
    <motor name="motor_joint2" joint="rotate_rod_joint2" ctrllimited="true" ctrlrange="-3.1415 0"/>
    <motor name="motor_prism_top" joint="prism_rod_top_joint" ctrllimited="true" ctrlrange="-2.38 -1.571 "/>
    <motor name="motor_prism_bottom" joint="prism_rod_bottom_joint" ctrllimited="true" ctrlrange="2.1 3.1415"/>
  </actuator>

</mujoco>